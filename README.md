# smb_copyfiles_project

## Описание

`smb_copyfiles_project` — это скрипт на Shell, предназначенный для синхронизации файлов между удалёнными общими ресурсами SMB и локальными директориями. Скрипт позволяет копировать файлы, созданные или изменённые в определённый период времени, и записывает все действия в лог-файл.

### Основные функции:
- Поддержка нескольких удалённых общих ресурсов и соответствующих им локальных каталогов.
- Логирование всех действий в отдельный файл.
- Возможность включения/отключения отладочной информации.
- Автоматическое вычисление начальной даты периода и конца предыдущего дня.

## Установка

1. Клонируйте репозиторий:
   ```sh
   git clone https://github.com/yourusername/smb_copyfiles_project.git
   cd smb_copyfiles_project
   ```

2. Создайте конфигурационный файл `config.sh` (пример уже есть в репозитории).

3. Убедитесь, что у вас установлены необходимые зависимости:
   - `cifs-utils` для монтирования сетевых папок (если используется Linux):
     ```sh
     sudo apt-get install cifs-utils  # Для Ubuntu/Debian
     sudo yum install cifs-utils      # Для CentOS/RHEL
     ```

## Конфигурация

Создайте файл `config.sh` с следующими переменными:

```sh
#!/bin/sh

# Configuration variables
LOG_FILE=/path/to/your/logfile.log
USER=YourUsername
VERBOSE=false

# Удаленные общие ресурсы и соответствующие им локальные каталоги
REMOTE_SHARES=(
"//remote-share1/Archive"
"//remote-share2/Archive"
)

LOCAL_DIRS=(
"/local/path/for/share1"
"/local/path/for/share2"
)
```

## Использование

Запустите основной скрипт `main.sh`:

```sh
./main.sh
```

## Структура проекта

```
smb_copyfiles_project/
├── config.sh                    # Конфигурационный файл
├── main.sh                      # Основной скрипт
├── functions/                   # Директория с функциональными модулями
│   ├── logging.sh               # Модуль логирования
│   ├── mounting.sh              # Модуль монтирования
│   ├── date_utils.sh            # Модуль работы с датами
│   └── file_operations.sh       # Модуль операций с файлами
└── log/                         # Директория для хранения лог-файлов
    └── sync_smb.log             # Пример лог-файла
```

## Примечания

- Убедитесь, что у вас есть доступ к удалённым общим ресурсам и правильные учётные данные.
- Если используете другие операционные системы, проверьте наличие аналогичных утилит для монтирования сетевых папок.

## Лицензия

Этот проект лицензирован под [MIT License](LICENSE). См. файл LICENSE для получения дополнительной информации.